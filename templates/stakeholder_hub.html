{% extends "base.html" %}

{% block title %}전문가 연결 - CAPSA{% endblock %}

{% block content %}
<!-- 페이지 헤더 -->
<section class="page-header bg-success text-white py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="display-5 fw-bold mb-3">
                    <i class="fas fa-users me-3"></i>전문가 연결
                </h1>
                <p class="lead mb-0">멘토, 엔젤, 전문가들과 연결하여 인사이트를 얻으세요</p>
            </div>
        </div>
    </div>
</section>

<!-- 소개 섹션 -->
<section class="intro-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <div class="intro-content">
                    <i class="fas fa-handshake fa-3x text-success mb-4"></i>
                    <h3 class="mb-4">전문가와의 연결이 필요한가요?</h3>
                    <p class="lead text-muted mb-5">
                        CAPSA는 다양한 분야의 전문가들과 연결할 수 있는 플랫폼입니다. 
                        멘토링, 투자, 컨설팅, 네트워킹 등 필요한 도움을 요청해보세요.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- 전문가 유형 소개 -->
        <div class="row g-4 mb-5">
            <div class="col-md-4">
                <div class="expert-type-card text-center p-4">
                    <i class="fas fa-chalkboard-teacher fa-2x text-primary mb-3"></i>
                    <h5>멘토</h5>
                    <p class="text-muted">커리어 조언, 스킬 개발, 방향성 제시</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="expert-type-card text-center p-4">
                    <i class="fas fa-coins fa-2x text-warning mb-3"></i>
                    <h5>엔젤/투자자</h5>
                    <p class="text-muted">스타트업 투자, 자금 조달, 비즈니스 모델 검토</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="expert-type-card text-center p-4">
                    <i class="fas fa-lightbulb fa-2x text-info mb-3"></i>
                    <h5>컨설턴트</h5>
                    <p class="text-muted">전략 수립, 문제 해결, 최적화 방안 제시</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 연결 요청 폼 -->
<section class="request-form py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="form-card card shadow">
                    <div class="card-header bg-white text-center py-4">
                        <h4 class="mb-0">
                            <i class="fas fa-paper-plane me-2 text-primary"></i>
                            전문가 연결 요청
                        </h4>
                        <p class="text-muted mb-0 mt-2">필요한 정보를 입력해주세요</p>
                    </div>
                    
                    <div class="card-body p-4">
                        <form method="POST" id="stakeholderForm">
                            <div class="row g-3">
                                <!-- 개인 정보 -->
                                <div class="col-md-6">
                                    <label for="name" class="form-label">
                                        <i class="fas fa-user me-2 text-primary"></i>이름 *
                                    </label>
                                    <input type="text" 
                                           class="form-control" 
                                           id="name" 
                                           name="name" 
                                           required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="email" class="form-label">
                                        <i class="fas fa-envelope me-2 text-primary"></i>이메일 *
                                    </label>
                                    <input type="email" 
                                           class="form-control" 
                                           id="email" 
                                           name="email" 
                                           required>
                                </div>
                                
                                <!-- 회사 정보 -->
                                <div class="col-md-6">
                                    <label for="company" class="form-label">
                                        <i class="fas fa-building me-2 text-primary"></i>회사/기관 *
                                    </label>
                                    <input type="text" 
                                           class="form-control" 
                                           id="company" 
                                           name="company" 
                                           required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="role" class="form-label">
                                        <i class="fas fa-id-badge me-2 text-primary"></i>직책/역할 *
                                    </label>
                                    <input type="text" 
                                           class="form-control" 
                                           id="role" 
                                           name="role" 
                                           placeholder="예: CEO, Developer, Student"
                                           required>
                                </div>
                                
                                <!-- 도움 유형 -->
                                <div class="col-12">
                                    <label for="help_type" class="form-label">
                                        <i class="fas fa-question-circle me-2 text-primary"></i>필요한 도움 유형 *
                                    </label>
                                    <select class="form-select" id="help_type" name="help_type" required>
                                        <option value="">도움 유형을 선택하세요</option>
                                        <option value="Mentoring">멘토링/커리어 조언</option>
                                        <option value="Investment">투자/자금 조달</option>
                                        <option value="Consulting">컨설팅/전략 수립</option>
                                        <option value="Networking">네트워킹/연결</option>
                                        <option value="Technical">기술적 도움</option>
                                        <option value="Business">비즈니스 모델 검토</option>
                                        <option value="Other">기타</option>
                                    </select>
                                </div>
                                
                                <!-- 상세 설명 -->
                                <div class="col-12">
                                    <label for="description" class="form-label">
                                        <i class="fas fa-comment-alt me-2 text-primary"></i>상세 설명 *
                                    </label>
                                    <textarea class="form-control" 
                                              id="description" 
                                              name="description" 
                                              rows="5" 
                                              placeholder="구체적으로 어떤 도움이 필요한지 설명해주세요. 예시:&#10;- 현재 상황과 문제점&#10;- 원하는 결과나 목표&#10;- 선호하는 전문가 프로필&#10;- 연락 가능한 시간대"
                                              required></textarea>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        구체적이고 명확한 설명을 해주시면 더 정확한 매칭이 가능합니다.
                                    </div>
                                </div>
                                
                                <!-- 제출 버튼 -->
                                <div class="col-12 text-center pt-3">
                                    <button type="submit" class="btn btn-success btn-lg px-5">
                                        <i class="fas fa-paper-plane me-2"></i>연결 요청 제출
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 프로세스 안내 -->
<section class="process-info py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-12 text-center">
                <h3 class="fw-bold">연결 프로세스</h3>
                <p class="text-muted">요청부터 연결까지의 단계를 확인하세요</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-3">
                <div class="process-step text-center">
                    <div class="step-number mb-3">
                        <span class="badge bg-primary rounded-circle p-3">1</span>
                    </div>
                    <h5>요청 제출</h5>
                    <p class="text-muted">필요한 정보를 입력하여 연결 요청을 제출합니다</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="process-step text-center">
                    <div class="step-number mb-3">
                        <span class="badge bg-primary rounded-circle p-3">2</span>
                    </div>
                    <h5>검토 및 매칭</h5>
                    <p class="text-muted">관리자가 요청을 검토하고 적절한 전문가를 매칭합니다</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="process-step text-center">
                    <div class="step-number mb-3">
                        <span class="badge bg-primary rounded-circle p-3">3</span>
                    </div>
                    <h5>연결 안내</h5>
                    <p class="text-muted">매칭된 전문가와의 연결 방법을 안내받습니다</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="process-step text-center">
                    <div class="step-number mb-3">
                        <span class="badge bg-primary rounded-circle p-3">4</span>
                    </div>
                    <h5>연결 완료</h5>
                    <p class="text-muted">전문가와 직접 소통하며 필요한 도움을 받습니다</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ 섹션 -->
<section class="faq-section py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h3 class="text-center mb-5">자주 묻는 질문</h3>
                
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                연결 요청 후 얼마나 걸리나요?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                일반적으로 1-3일 내에 검토가 완료되며, 적절한 전문가가 매칭되면 즉시 연락드립니다. 
                                복잡한 요청의 경우 더 오래 걸릴 수 있습니다.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                전문가 연결에 비용이 드나요?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                CAPSA 플랫폼 자체는 무료이지만, 전문가와의 실제 상담이나 서비스에는 별도 비용이 발생할 수 있습니다. 
                                구체적인 비용은 전문가와 직접 협의하시면 됩니다.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                요청을 취소하거나 수정할 수 있나요?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                요청 제출 후 24시간 내에는 수정이 가능하며, 아직 검토되지 않은 요청은 취소할 수 있습니다. 
                                검토가 시작된 후에는 관리자에게 직접 문의해주세요.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('stakeholderForm').addEventListener('submit', function(e) {
    // 폼 유효성 검사
    const requiredFields = this.querySelectorAll('[required]');
    let isValid = true;
    
    requiredFields.forEach(field => {
        if (!field.value.trim()) {
            field.classList.add('is-invalid');
            isValid = false;
        } else {
            field.classList.remove('is-invalid');
        }
    });
    
    if (!isValid) {
        e.preventDefault();
        alert('필수 항목을 모두 입력해주세요.');
        return;
    }
    
    // 제출 버튼 비활성화
    const submitBtn = this.querySelector('button[type="submit"]');
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>제출 중...';
});

// 실시간 폼 유효성 검사
document.querySelectorAll('#stakeholderForm input, #stakeholderForm select, #stakeholderForm textarea').forEach(field => {
    field.addEventListener('blur', function() {
        if (this.hasAttribute('required') && !this.value.trim()) {
            this.classList.add('is-invalid');
        } else {
            this.classList.remove('is-invalid');
        }
    });
    
    field.addEventListener('input', function() {
        if (this.classList.contains('is-invalid')) {
            this.classList.remove('is-invalid');
        }
    });
});
</script>
{% endblock %}
